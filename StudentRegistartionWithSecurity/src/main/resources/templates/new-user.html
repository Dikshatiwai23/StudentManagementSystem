<!DOCTYPE html>
<html>

<head>
	<meta charset="ISO-8859-1">
	<title>Registration</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css
		" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm
		" crossorigin="anonymous">
	<style>
		body {
			font-family: 'Gloria Hallelujah', cursive;
			background-image: "https://images.pexels.com/photos/265791/pexels-photo-265791.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"";
		}

		#btn {
			color: darkgreen;
			border-color: black;
		}

		h1,
		label {
			color: darkgreen;
		}

		#btn:hover {
			background: darkgreen;
			color: white;
			transform: translateY(-3px);



		}
	</style>
</head>

<body>

	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/main">About us</a>
				</li>
			</ul>
		</div>
	</nav>
	<!--<nav class="navbar navbar-light bg-light"></nav>-->
	<br>
	<div align="center" class="container my-2">
		<h1>Registration Page</h1>
		<div>
<span id="emailError"></span>
<span id="nameError"></span>
			<form th:action="@{/saveUser}" th:object="${user}" method="post"  onsubmit="return validateForm()">
				<!--<div class="form-group" >
  <label for"name">Name:</label>
    <input type="text" class="form-control"  id="name" name="username" aria-describedby="emailHelp" placeholder="Enter " required>
      </div>-->
				<div class="form-group">
					<label for"email">Email:</label>
					<input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp"
						placeholder="Enter email" required>
				</div>
				<!--<div class="form-group">
					<label for"mobileNumber">Role:</label>
					<input type="text" class="form-control" id="mobile" name="role" placeholder="Enter Mobile number"
						required>
				</div>-->
				
				<div class="form-group"><label for="role" aria-required="">ROLE:</label>

<select name="role" id="role">
  <option value="ROLE_ADMIN">ADMIN</option>
  <option value="ROLE_NORMAL">NORMAL</option>
  
</select>
    </div>
				<div class="form-group">
					<label for"name">User Name:</label>
					<input type="text" class="form-control" id="name" name="username" placeholder="Enter User name"
						required>
				</div>
				<div class="form-group">
					<label for="exampleInputPassword1">Password</label>
					<input type="password" class="form-control" id="password" name="password" placeholder="Enter password"
						pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
						title="Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, and one digit"
						required>
<!--<div class="form-group">
					<label for"email">ROLE:</label>
					<input type="text" class="form-control"  name="role" placeholder="Enter User name"
						required>
				</div>-->

					<!--  <label for="password">Password:</label>
    <input type="password" id="pass" name="pass" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$" 
           title="Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, and one digit" required>
  </div>-->
					<br>
					<button type="submit" id="btn" class="btn ">Submit</button>
				</div>

			</form>
		</div>


	</div>
	
	
	<script>
		
    function validateForm() {
		
       let nameInput = document.getElementById('name');
        let emailInput = document.getElementById('email');
       let nameError = document.getElementById('nameError');
        let emailError = document.getElementById('emailError');
        let namePattern = /^[A-Za-z\s'-]{3,50}$/;
        let emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        if (!namePattern.test(nameInput.value)) {
          //  nameError.textContent = 'Invalid name format';
           alert("Invalid Name format");
            return false;
        }

        if (!emailPattern.test(emailInput.value)) {
           // emailError.textContent = 'Invalid email format';
           alert("Invalid Email format");
            return false;
        }


        nameError.textContent = '';
        emailError.textContent = '';
        return true;
    }
</script>

</body>

</html>